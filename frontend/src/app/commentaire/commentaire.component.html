<form [formGroup]="newCommentForm" class="border-bottom">
    <div class="formGroup">
        <div class="d-flex mt-3 mb-3" id="nouveau_commentaire">

            <fa-icon id="faAngleRight" [icon]="faAngleRight" class="mt-3 mr-2 flex-grow"></fa-icon>

            <p class="font-weight-bold mt-sm-3 mr-md-2 flex-grow">
                {{ infosUtilActif.prenom }} {{ infosUtilActif.nom }}
            </p>

            <textarea 
                aria-label="commentaire" 
                class="flex-grow-1 mr-md-2" 
                type="textarea" 
                name="commentaire" 
                id="commentaire"
                formControlName="newComment">
            </textarea>

            <button class="btn btn-success flex-grow" type="button" (click)="onAjouterCommentaire()"
                [disabled]="msgErreur != null" aria-label="Valider le commentaire">
                <fa-icon [icon]="faCheckCircle" class="flex-grow"></fa-icon>
            </button>

            <button aria-label="Annuler la modification" class="btn btn-danger ml-lg-2 flex-grow" type="button" (click)="onAnnulation()"
                *ngIf="msgErreur != null">
                <fa-icon [icon]="faTimesCircle" class="flex-grow"></fa-icon>
            </button>

        </div>
    </div>
</form>

<p class="text-danger font-weight-bold" *ngIf="msgErreur != null">{{ msgErreur }}</p>

<div *ngFor="let commentaire of commentaires; let i = index">
    <div [ngClass]="{'border-bottom': i != commentaires.length-1 }">

        <app-single-commentaire 
            [index]="i" 
            [commentaire]="commentaire" 
            [infosUtilActif]="infosUtilActif">
        </app-single-commentaire>
        
    </div>
</div>